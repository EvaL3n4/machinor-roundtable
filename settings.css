/* Machinor Roundtable - Fantasy Forest Settings Theme (Hardened) */
/* Replaces iOS Liquid Glass style */

/* Ensure fonts are available */
@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Crimson+Text:ital,wght@0,400;0,600;1,400&display=swap');

/* Root Isolation with High Specificity */
body .machinor-roundtable-settings {
    font-family: var(--mr-ff-font-body, 'Crimson Text', serif) !important;
    color: var(--mr-ff-text-primary, #e8f5e9) !important;
    margin: 0 !important;
    padding: 0 !important;
}

/* --- Accordion Integration & Reset --- */
/* Remove padding from the generic drawer content to fit our custom layout */
body .machinor-roundtable-settings .inline-drawer-content {
    padding: 0 !important;
    background: var(--mr-ff-bg-primary, #1a2f1a) !important;
    border: 1px solid var(--mr-ff-border-olive, #556b2f) !important;
    border-radius: 4px !important;
    box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.5) !important;
    overflow: hidden !important;
}

.mr-settings-content {
    padding: 15px !important;
    /* Add the noise texture from sidebar if desired for consistency */
    background-image:
        linear-gradient(to right, rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.2) 5%, rgba(0, 0, 0, 0.2) 95%, rgba(0, 0, 0, 0.8)),
        url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.6' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100' height='100' filter='url(%23noise)' opacity='0.1'/%3E%3C/svg%3E") !important;
}

/* --- Sections --- */
body .mr-settings-section {
    margin-bottom: 15px !important;
    padding: 15px !important;
    background: rgba(26, 47, 26, 0.6) !important; /* Match sidebar card bg */
    border: 1px solid rgba(197, 160, 89, 0.3) !important; /* Gold/Olive border */
    border-radius: 4px !important;
    box-shadow: inset 0 0 30px rgba(0, 0, 0, 0.5) !important;
}

body .mr-section-header {
    margin-bottom: 12px !important;
    border-bottom: 1px solid rgba(197, 160, 89, 0.2) !important;
    padding-bottom: 5px !important;
    background: linear-gradient(to right, rgba(197, 160, 89, 0.1), transparent) !important; /* Subtle gradient header */
    padding-left: 10px !important;
}

body .mr-section-header h4 {
    margin: 0 !important;
    font-family: var(--mr-ff-font-heading, 'Cinzel', serif) !important;
    color: var(--mr-ff-accent-primary, #d4af37) !important;
    font-size: 14px !important; /* Slightly larger for readability */
    text-transform: uppercase !important;
    letter-spacing: 1px !important;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.8) !important;
}

/* --- Form Elements --- */
body .mr-form-group {
    margin-bottom: 15px !important;
}

body .mr-form-group label {
    display: block !important;
    margin-bottom: 8px !important;
    font-weight: 600 !important;
    color: var(--mr-ff-accent-secondary, #8fbc8f) !important; /* Sage green accent */
    font-family: var(--mr-ff-font-heading, 'Cinzel', serif) !important;
    font-size: 12px !important;
    letter-spacing: 0.5px !important;
}

body .mr-help-text {
    display: block !important;
    font-size: 12px !important;
    color: var(--mr-ff-text-muted, #6b8e6b) !important;
    margin-top: 6px !important;
    font-style: italic !important;
}

/* Inputs & Selects - Match Sidebar Inputs */
body .mr-input,
body .mr-select {
    width: 100% !important;
    padding: 10px !important;
    background: rgba(0, 0, 0, 0.4) !important;
    border: 1px solid #4a6b4a !important;
    border-radius: 4px !important;
    color: var(--mr-ff-text-primary, #e8f5e9) !important;
    font-family: var(--mr-ff-font-body, 'Crimson Text', serif) !important;
    font-size: 15px !important;
    box-sizing: border-box !important;
    transition: all 0.2s ease !important;
}

body .mr-input:focus,
body .mr-select:focus {
    outline: none !important;
    border-color: var(--mr-ff-accent-primary, #d4af37) !important;
    box-shadow: 0 0 10px rgba(197, 160, 89, 0.2) !important;
}

body .mr-input-with-value {
    display: flex !important;
    gap: 10px !important;
    align-items: center !important;
}

body .mr-input-suffix {
    color: var(--mr-ff-text-muted, #6b8e6b) !important;
    font-size: 13px !important;
    font-family: var(--mr-ff-font-heading) !important;
}

/* --- Toggle Switch --- */
body .mr-toggle-item {
    display: flex !important;
    align-items: flex-start !important;
    gap: 15px !important;
    padding: 12px !important;
    border-bottom: 1px solid rgba(197, 160, 89, 0.1) !important;
    background: rgba(0, 0, 0, 0.2) !important;
    border-radius: 4px !important;
    margin-bottom: 8px !important;
}

body .mr-toggle-item:last-child {
    border-bottom: none !important;
    margin-bottom: 0 !important;
}

body .mr-toggle-switch {
    appearance: none !important;
    width: 42px !important;
    height: 22px !important;
    background: rgba(0, 0, 0, 0.5) !important;
    border: 1px solid var(--mr-ff-border-olive, #556b2f) !important;
    border-radius: 11px !important;
    position: relative !important;
    cursor: pointer !important;
    flex-shrink: 0 !important;
    transition: background 0.3s !important;
}

body .mr-toggle-switch::after {
    content: '' !important;
    position: absolute !important;
    top: 2px !important;
    left: 2px !important;
    width: 16px !important;
    height: 16px !important;
    background: var(--mr-ff-text-muted, #6b8e6b) !important;
    border-radius: 50% !important;
    transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275) !important;
}

body .mr-toggle-switch:checked {
    background: rgba(212, 175, 55, 0.2) !important;
    border-color: var(--mr-ff-accent-primary, #d4af37) !important;
    box-shadow: 0 0 10px rgba(212, 175, 55, 0.2) !important;
}

body .mr-toggle-switch:checked::after {
    transform: translateX(20px) !important;
    background: var(--mr-ff-accent-primary, #d4af37) !important;
    box-shadow: 0 0 5px var(--mr-ff-accent-primary) !important;
}

body .mr-toggle-label {
    cursor: pointer !important;
}

body .mr-label-text {
    display: block !important;
    font-weight: bold !important;
    color: var(--mr-ff-text-primary, #e8f5e9) !important;
    font-size: 14px !important;
}

body .mr-label-desc {
    display: block !important;
    font-size: 12px !important;
    color: var(--mr-ff-text-muted, #6b8e6b) !important;
    margin-top: 2px !important;
}

/* --- Buttons (Runestone Style) --- */
body .mr-btn-primary,
body .mr-btn-secondary {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    gap: 8px !important;
    width: 100% !important;
    padding: 12px 20px !important;
    margin-bottom: 10px !important;
    border: 1px solid !important;
    border-radius: 4px !important;
    cursor: pointer !important;
    font-family: var(--mr-ff-font-heading, 'Cinzel', serif) !important;
    font-weight: bold !important;
    text-transform: uppercase !important;
    font-size: 13px !important;
    transition: all 0.2s ease !important;
    position: relative !important;
    top: 0 !important;
}

body .mr-btn-primary {
    background: #2a3b2a !important;
    border-color: #4a6b4a !important;
    color: var(--mr-ff-accent-primary, #d4af37) !important;
    box-shadow: 0 4px 0 #1a2f1a !important;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8) !important;
}

body .mr-btn-primary:hover {
    background: #3a4f3a !important;
    border-color: var(--mr-ff-accent-primary, #d4af37) !important;
    color: #fff !important;
    text-shadow: 0 0 8px var(--mr-ff-accent-glow) !important;
    transform: translateY(-2px) !important;
}

body .mr-btn-primary:active {
    transform: translateY(1px) !important;
    box-shadow: 0 0 0 #1a2f1a !important;
    top: 4px !important;
}

body .mr-btn-secondary {
    background: rgba(0, 0, 0, 0.3) !important;
    border-color: var(--mr-ff-border-olive, #556b2f) !important;
    color: var(--mr-ff-text-muted, #6b8e6b) !important;
    box-shadow: 0 2px 0 #1a2f1a !important;
}

body .mr-btn-secondary:hover {
    background: rgba(212, 175, 55, 0.1) !important;
    border-color: var(--mr-ff-accent-primary, #d4af37) !important;
    color: var(--mr-ff-accent-primary, #d4af37) !important;
    transform: translateY(-1px) !important;
}

body .mr-btn-icon {
    background: rgba(0, 0, 0, 0.4) !important;
    border: 1px solid var(--mr-ff-border-olive, #556b2f) !important;
    color: var(--mr-ff-text-muted, #6b8e6b) !important;
    border-radius: 4px !important;
    cursor: pointer !important;
    transition: all 0.2s !important;
}

body .mr-btn-icon:hover {
    border-color: var(--mr-ff-accent-primary, #d4af37) !important;
    color: var(--mr-ff-accent-primary, #d4af37) !important;
    box-shadow: 0 0 5px rgba(212, 175, 55, 0.3) !important;
}

/* --- Status Info --- */
body .mr-status-info {
    display: grid !important;
    grid-template-columns: 1fr 1fr !important;
    gap: 10px !important;
    margin-top: 20px !important;
    padding-top: 15px !important;
    border-top: 1px dashed rgba(197, 160, 89, 0.3) !important;
}

body .mr-status-item {
    background: rgba(26, 47, 26, 0.6) !important;
    padding: 12px !important;
    border-radius: 4px !important;
    border: 1px solid var(--mr-ff-border-olive, #556b2f) !important;
    text-align: center !important;
    box-shadow: inset 0 0 10px rgba(0,0,0,0.3) !important;
}

body .mr-status-label {
    display: block !important;
    font-size: 10px !important;
    color: var(--mr-ff-text-muted, #6b8e6b) !important;
    text-transform: uppercase !important;
    letter-spacing: 1px !important;
    margin-bottom: 4px !important;
    font-family: var(--mr-ff-font-heading) !important;
}

body .mr-status-value {
    font-size: 16px !important;
    font-weight: bold !important;
    color: var(--mr-ff-accent-glow, #7fffd4) !important;
    text-shadow: 0 0 5px rgba(127, 255, 212, 0.4) !important;
}